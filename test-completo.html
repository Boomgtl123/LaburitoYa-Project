<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Testing Completo - LaburitoYa</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      margin-bottom: 20px;
      text-align: center;
    }

    .header h1 {
      color: #0a66c2;
      font-size: 32px;
      margin-bottom: 10px;
    }

    .header p {
      color: #666;
      font-size: 16px;
    }

    .test-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .test-card {
      background: white;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .test-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 30px rgba(0,0,0,0.15);
    }

    .test-card h3 {
      color: #333;
      font-size: 20px;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .test-card .icon {
      font-size: 28px;
    }

    .test-list {
      list-style: none;
      margin: 15px 0;
    }

    .test-list li {
      padding: 8px 0;
      color: #666;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
    }

    .test-list li::before {
      content: "‚è≥";
      font-size: 16px;
    }

    .test-list li.success::before {
      content: "‚úÖ";
    }

    .test-list li.error::before {
      content: "‚ùå";
    }

    .test-list li.warning::before {
      content: "‚ö†Ô∏è";
    }

    button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      width: 100%;
      margin-top: 15px;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    button:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    .status-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 10px;
    }

    .status-badge.pending {
      background: #fff3cd;
      color: #856404;
    }

    .status-badge.running {
      background: #cfe2ff;
      color: #084298;
    }

    .status-badge.success {
      background: #d1e7dd;
      color: #0f5132;
    }

    .status-badge.error {
      background: #f8d7da;
      color: #842029;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: #e0e0e0;
      border-radius: 4px;
      overflow: hidden;
      margin: 20px 0;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      width: 0%;
      transition: width 0.3s;
    }

    .summary {
      background: white;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      margin-top: 20px;
    }

    .summary h2 {
      color: #333;
      margin-bottom: 15px;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }

    .summary-item {
      padding: 15px;
      border-radius: 8px;
      text-align: center;
    }

    .summary-item.total {
      background: #e7f3ff;
      color: #0a66c2;
    }

    .summary-item.success {
      background: #d1e7dd;
      color: #0f5132;
    }

    .summary-item.error {
      background: #f8d7da;
      color: #842029;
    }

    .summary-item.warning {
      background: #fff3cd;
      color: #856404;
    }

    .summary-item .number {
      font-size: 32px;
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
    }

    .summary-item .label {
      font-size: 14px;
      font-weight: 600;
    }

    .log-console {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 20px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      max-height: 300px;
      overflow-y: auto;
      margin-top: 20px;
    }

    .log-console .log-entry {
      margin: 5px 0;
      padding: 5px;
      border-left: 3px solid transparent;
    }

    .log-console .log-entry.info {
      border-left-color: #0a66c2;
    }

    .log-console .log-entry.success {
      border-left-color: #0f5132;
      color: #4caf50;
    }

    .log-console .log-entry.error {
      border-left-color: #842029;
      color: #f44336;
    }

    .log-console .log-entry.warning {
      border-left-color: #856404;
      color: #ff9800;
    }

    @media (max-width: 768px) {
      .test-grid {
        grid-template-columns: 1fr;
      }

      .summary-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üß™ Testing Completo - LaburitoYa</h1>
      <p>Verificaci√≥n autom√°tica de todas las funcionalidades</p>
      <div class="progress-bar">
        <div class="progress-fill" id="progressBar"></div>
      </div>
    </div>

    <div class="test-grid">
      <!-- Test 1: Firebase -->
      <div class="test-card">
        <h3>
          <span class="icon">üî•</span>
          Firebase
          <span class="status-badge pending" id="status-firebase">Pendiente</span>
        </h3>
        <ul class="test-list" id="tests-firebase">
          <li>Conexi√≥n a Firebase</li>
          <li>Reglas de seguridad</li>
          <li>Leer usuarios</li>
          <li>Leer publicaciones</li>
          <li>Escribir datos</li>
        </ul>
        <button onclick="testFirebase()">Probar Firebase</button>
      </div>

      <!-- Test 2: Autenticaci√≥n -->
      <div class="test-card">
        <h3>
          <span class="icon">üîê</span>
          Autenticaci√≥n
          <span class="status-badge pending" id="status-auth">Pendiente</span>
        </h3>
        <ul class="test-list" id="tests-auth">
          <li>Formulario de registro</li>
          <li>Validaci√≥n de campos</li>
          <li>Username √∫nico</li>
          <li>Restricci√≥n geogr√°fica</li>
          <li>Login funcional</li>
        </ul>
        <button onclick="testAuth()">Probar Autenticaci√≥n</button>
      </div>

      <!-- Test 3: Feed -->
      <div class="test-card">
        <h3>
          <span class="icon">üì±</span>
          Feed Principal
          <span class="status-badge pending" id="status-feed">Pendiente</span>
        </h3>
        <ul class="test-list" id="tests-feed">
          <li>Cargar publicaciones</li>
          <li>Crear publicaci√≥n</li>
          <li>Sistema de likes</li>
          <li>Comentarios</li>
          <li>Hashtags</li>
        </ul>
        <button onclick="testFeed()">Probar Feed</button>
      </div>

      <!-- Test 4: Perfil -->
      <div class="test-card">
        <h3>
          <span class="icon">üë§</span>
          Perfil
          <span class="status-badge pending" id="status-profile">Pendiente</span>
        </h3>
        <ul class="test-list" id="tests-profile">
          <li>Ver perfil</li>
          <li>Editar informaci√≥n</li>
          <li>Subir foto</li>
          <li>Redes sociales</li>
          <li>Publicaciones del usuario</li>
        </ul>
        <button onclick="testProfile()">Probar Perfil</button>
      </div>

      <!-- Test 5: Mensajer√≠a -->
      <div class="test-card">
        <h3>
          <span class="icon">üí¨</span>
          Mensajer√≠a
          <span class="status-badge pending" id="status-messages">Pendiente</span>
        </h3>
        <ul class="test-list" id="tests-messages">
          <li>Lista de conversaciones</li>
          <li>Enviar mensaje</li>
          <li>Recibir mensaje</li>
          <li>Marcar como le√≠do</li>
          <li>Contador de no le√≠dos</li>
        </ul>
        <button onclick="testMessages()">Probar Mensajer√≠a</button>
      </div>

      <!-- Test 6: Notificaciones -->
      <div class="test-card">
        <h3>
          <span class="icon">üîî</span>
          Notificaciones
          <span class="status-badge pending" id="status-notifications">Pendiente</span>
        </h3>
        <ul class="test-list" id="tests-notifications">
          <li>Sistema de notificaciones</li>
          <li>Notif. de likes</li>
          <li>Notif. de comentarios</li>
          <li>Notif. de mensajes</li>
          <li>Contador</li>
        </ul>
        <button onclick="testNotifications()">Probar Notificaciones</button>
      </div>

      <!-- Test 7: B√∫squeda -->
      <div class="test-card">
        <h3>
          <span class="icon">üîç</span>
          B√∫squeda
          <span class="status-badge pending" id="status-search">Pendiente</span>
        </h3>
        <ul class="test-list" id="tests-search">
          <li>B√∫squeda din√°mica</li>
          <li>Filtrar por contenido</li>
          <li>Filtrar por hashtags</li>
          <li>Filtrar por usuarios</li>
          <li>Resultados en tiempo real</li>
        </ul>
        <button onclick="testSearch()">Probar B√∫squeda</button>
      </div>

      <!-- Test 8: Dise√±o -->
      <div class="test-card">
        <h3>
          <span class="icon">üé®</span>
          Dise√±o
          <span class="status-badge pending" id="status-design">Pendiente</span>
        </h3>
        <ul class="test-list" id="tests-design">
          <li>Layout 3 columnas</li>
          <li>Navbar funcional</li>
          <li>Cards profesionales</li>
          <li>Responsive mobile</li>
          <li>Colores LinkedIn</li>
        </ul>
        <button onclick="testDesign()">Probar Dise√±o</button>
      </div>
    </div>

    <!-- Bot√≥n para ejecutar todos los tests -->
    <div class="test-card">
      <button onclick="runAllTests()" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); font-size: 16px; padding: 15px;">
        üöÄ Ejecutar Todos los Tests
      </button>
    </div>

    <!-- Resumen -->
    <div class="summary">
      <h2>üìä Resumen de Resultados</h2>
      <div class="summary-grid">
        <div class="summary-item total">
          <span class="number" id="total-tests">0</span>
          <span class="label">Total Tests</span>
        </div>
        <div class="summary-item success">
          <span class="number" id="passed-tests">0</span>
          <span class="label">Exitosos</span>
        </div>
        <div class="summary-item error">
          <span class="number" id="failed-tests">0</span>
          <span class="label">Fallidos</span>
        </div>
        <div class="summary-item warning">
          <span class="number" id="warning-tests">0</span>
          <span class="label">Advertencias</span>
        </div>
      </div>

      <!-- Console de logs -->
      <div class="log-console" id="logConsole">
        <div class="log-entry info">üí° Listo para comenzar el testing...</div>
      </div>
    </div>
  </div>

  <script>
    const DB_URL = 'https://laburitoya-6e55d-default-rtdb.firebaseio.com';
    let totalTests = 0;
    let passedTests = 0;
    let failedTests = 0;
    let warningTests = 0;

    function log(message, type = 'info') {
      const console = document.getElementById('logConsole');
      const entry = document.createElement('div');
      entry.className = `log-entry ${type}`;
      const timestamp = new Date().toLocaleTimeString();
      entry.textContent = `[${timestamp}] ${message}`;
      console.appendChild(entry);
      console.scrollTop = console.scrollHeight;
    }

    function updateStatus(testId, status) {
      const badge = document.getElementById(`status-${testId}`);
      badge.className = `status-badge ${status}`;
      badge.textContent = status === 'running' ? 'Ejecutando...' : 
                         status === 'success' ? 'Exitoso' : 
                         status === 'error' ? 'Fallido' : 'Pendiente';
    }

    function updateTestItem(testId, index, status) {
      const list = document.getElementById(`tests-${testId}`);
      const items = list.getElementsByTagName('li');
      if (items[index]) {
        items[index].className = status;
      }
    }

    function updateSummary() {
      document.getElementById('total-tests').textContent = totalTests;
      document.getElementById('passed-tests').textContent = passedTests;
      document.getElementById('failed-tests').textContent = failedTests;
      document.getElementById('warning-tests').textContent = warningTests;
      
      const progress = totalTests > 0 ? ((passedTests + failedTests + warningTests) / totalTests) * 100 : 0;
      document.getElementById('progressBar').style.width = progress + '%';
    }

    async function testFirebase() {
      updateStatus('firebase', 'running');
      log('üî• Iniciando tests de Firebase...', 'info');
      totalTests += 5;

      try {
        // Test 1: Conexi√≥n
        log('Probando conexi√≥n a Firebase...', 'info');
        const response = await fetch(`${DB_URL}/.json`);
        if (response.ok) {
          updateTestItem('firebase', 0, 'success');
          passedTests++;
          log('‚úÖ Conexi√≥n exitosa', 'success');
        } else {
          updateTestItem('firebase', 0, 'error');
          failedTests++;
          log(`‚ùå Error de conexi√≥n: ${response.status}`, 'error');
        }

        // Test 2: Reglas
        log('Verificando reglas de seguridad...', 'info');
        const testWrite = await fetch(`${DB_URL}/test.json`, {
          method: 'PUT',
          body: JSON.stringify({ test: true })
        });
        if (testWrite.ok) {
          updateTestItem('firebase', 1, 'success');
          passedTests++;
          log('‚úÖ Reglas de escritura configuradas', 'success');
          // Limpiar test
          await fetch(`${DB_URL}/test.json`, { method: 'DELETE' });
        } else {
          updateTestItem('firebase', 1, 'error');
          failedTests++;
          log('‚ùå Reglas de escritura no configuradas', 'error');
        }

        // Test 3: Leer usuarios
        log('Leyendo usuarios...', 'info');
        const usersResponse = await fetch(`${DB_URL}/usuarios.json`);
        const users = await usersResponse.json();
        if (users) {
          updateTestItem('firebase', 2, 'success');
          passedTests++;
          log(`‚úÖ ${Object.keys(users).length} usuario(s) encontrado(s)`, 'success');
        } else {
          updateTestItem('firebase', 2, 'warning');
          warningTests++;
          log('‚ö†Ô∏è No hay usuarios en la base de datos', 'warning');
        }

        // Test 4: Leer posts
        log('Leyendo publicaciones...', 'info');
        const postsResponse = await fetch(`${DB_URL}/posts.json`);
        const posts = await postsResponse.json();
        if (posts) {
          updateTestItem('firebase', 3, 'success');
          passedTests++;
          log(`‚úÖ ${Object.keys(posts).length} publicaci√≥n(es) encontrada(s)`, 'success');
        } else {
          updateTestItem('firebase', 3, 'warning');
          warningTests++;
          log('‚ö†Ô∏è No hay publicaciones en la base de datos', 'warning');
        }

        // Test 5: Escribir datos
        log('Probando escritura de datos...', 'info');
        const testData = {
          test: true,
          timestamp: new Date().toISOString()
        };
        const writeResponse = await fetch(`${DB_URL}/test_write.json`, {
          method: 'PUT',
          body: JSON.stringify(testData)
        });
        if (writeResponse.ok) {
          updateTestItem('firebase', 4, 'success');
          passedTests++;
          log('‚úÖ Escritura de datos exitosa', 'success');
          // Limpiar
          await fetch(`${DB_URL}/test_write.json`, { method: 'DELETE' });
        } else {
          updateTestItem('firebase', 4, 'error');
          failedTests++;
          log('‚ùå Error al escribir datos', 'error');
        }

        updateStatus('firebase', 'success');
        log('üéâ Tests de Firebase completados', 'success');
      } catch (error) {
        updateStatus('firebase', 'error');
        log(`‚ùå Error en tests de Firebase: ${error.message}`, 'error');
        failedTests += 5;
      }

      updateSummary();
    }

    async function testAuth() {
      updateStatus('auth', 'running');
      log('üîê Iniciando tests de autenticaci√≥n...', 'info');
      totalTests += 5;

      // Test 1: Formulario de registro existe
      log('Verificando formulario de registro...', 'info');
      try {
        const response = await fetch('register.html');
        if (response.ok) {
          const html = await response.text();
          if (html.includes('registerForm') && html.includes('username')) {
            updateTestItem('auth', 0, 'success');
            passedTests++;
            log('‚úÖ Formulario de registro encontrado', 'success');
          } else {
            updateTestItem('auth', 0, 'error');
            failedTests++;
            log('‚ùå Formulario incompleto', 'error');
          }
        }
      } catch (error) {
        updateTestItem('auth', 0, 'error');
        failedTests++;
        log('‚ùå Error al cargar register.html', 'error');
      }

      // Test 2: Validaci√≥n de campos
      log('Verificando validaci√≥n de campos...', 'info');
      try {
        const response = await fetch('register.js');
        if (response.ok) {
          const js = await response.text();
          if (js.includes('required') || js.includes('trim()')) {
            updateTestItem('auth', 1, 'success');
            passedTests++;
            log('‚úÖ Validaci√≥n de campos implementada', 'success');
          } else {
            updateTestItem('auth', 1, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Validaci√≥n b√°sica', 'warning');
          }
        }
      } catch (error) {
        updateTestItem('auth', 1, 'error');
        failedTests++;
        log('‚ùå Error al verificar validaci√≥n', 'error');
      }

      // Test 3: Username √∫nico
      log('Verificando validaci√≥n de username √∫nico...', 'info');
      try {
        const response = await fetch('register.js');
        const js = await response.text();
        if (js.includes('username') && js.includes('usuarios')) {
          updateTestItem('auth', 2, 'success');
          passedTests++;
          log('‚úÖ Validaci√≥n de username √∫nico implementada', 'success');
        } else {
          updateTestItem('auth', 2, 'warning');
          warningTests++;
          log('‚ö†Ô∏è Validaci√≥n de username no encontrada', 'warning');
        }
      } catch (error) {
        updateTestItem('auth', 2, 'error');
        failedTests++;
        log('‚ùå Error al verificar username √∫nico', 'error');
      }

      // Test 4: Restricci√≥n geogr√°fica
      log('Verificando restricci√≥n geogr√°fica...', 'info');
      try {
        const response = await fetch('locations.js');
        if (response.ok) {
          const js = await response.text();
          if (js.includes('Argentina') && js.includes('Per√∫')) {
            updateTestItem('auth', 3, 'success');
            passedTests++;
            log('‚úÖ Restricci√≥n geogr√°fica implementada', 'success');
          } else {
            updateTestItem('auth', 3, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Datos de ubicaci√≥n limitados', 'warning');
          }
        }
      } catch (error) {
        updateTestItem('auth', 3, 'error');
        failedTests++;
        log('‚ùå Error al verificar restricci√≥n geogr√°fica', 'error');
      }

      // Test 5: Login funcional
      log('Verificando login...', 'info');
      try {
        const response = await fetch('login.js');
        if (response.ok) {
          const js = await response.text();
          if (js.includes('correo') && js.includes('contrasena') && js.includes('localStorage')) {
            updateTestItem('auth', 4, 'success');
            passedTests++;
            log('‚úÖ Sistema de login implementado', 'success');
          } else {
            updateTestItem('auth', 4, 'error');
            failedTests++;
            log('‚ùå Login incompleto', 'error');
          }
        }
      } catch (error) {
        updateTestItem('auth', 4, 'error');
        failedTests++;
        log('‚ùå Error al verificar login', 'error');
      }

      updateStatus('auth', 'success');
      log('üéâ Tests de autenticaci√≥n completados', 'success');
      updateSummary();
    }

    async function testFeed() {
      updateStatus('feed', 'running');
      log('üì± Iniciando tests del feed...', 'info');
      totalTests += 5;

      try {
        const response = await fetch('home.js');
        const js = await response.text();

        // Test 1: Cargar publicaciones
        if (js.includes('cargarPosts') || js.includes('posts')) {
          updateTestItem('feed', 0, 'success');
          passedTests++;
          log('‚úÖ Funci√≥n de carga de posts encontrada', 'success');
        } else {
          updateTestItem('feed', 0, 'error');
          failedTests++;
          log('‚ùå Funci√≥n de carga no encontrada', 'error');
        }

        // Test 2: Crear publicaci√≥n
        if (js.includes('postForm') || js.includes('contenido')) {
          updateTestItem('feed', 1, 'success');
          passedTests++;
          log('‚úÖ Sistema de creaci√≥n de posts implementado', 'success');
        } else {
          updateTestItem('feed', 1, 'error');
          failedTests++;
          log('‚ùå Creaci√≥n de posts no encontrada', 'error');
        }

        // Test 3: Sistema de likes
        if (js.includes('like') || js.includes('recomendar')) {
          updateTestItem('feed', 2, 'success');
          passedTests++;
          log('‚úÖ Sistema de likes implementado', 'success');
        } else {
          updateTestItem('feed', 2, 'error');
          failedTests++;
          log('‚ùå Sistema de likes no encontrado', 'error');
        }

        // Test 4: Comentarios
        if (js.includes('comentario')) {
          updateTestItem('feed', 3, 'success');
          passedTests++;
          log('‚úÖ Sistema de comentarios implementado', 'success');
        } else {
          updateTestItem('feed', 3, 'error');
          failedTests++;
          log('‚ùå Sistema de comentarios no encontrado', 'error');
        }

        // Test 5: Hashtags
        const hashtagsResponse = await fetch('hashtags.js');
        if (hashtagsResponse.ok) {
          updateTestItem('feed', 4, 'success');
          passedTests++;
          log('‚úÖ Sistema de hashtags implementado', 'success');
        } else {
          updateTestItem('feed', 4, 'warning');
          warningTests++;
          log('‚ö†Ô∏è Sistema de hashtags no encontrado', 'warning');
        }

        updateStatus('feed', 'success');
        log('üéâ Tests del feed completados', 'success');
      } catch (error) {
        updateStatus('feed', 'error');
        log(`‚ùå Error en tests del feed: ${error.message}`, 'error');
        failedTests += 5;
      }

      updateSummary();
    }

    async function testProfile() {
      updateStatus('profile', 'running');
      log('üë§ Iniciando tests del perfil...', 'info');
      totalTests += 5;

      try {
        // Test 1: Ver perfil
        const htmlResponse = await fetch('profile.html');
        if (htmlResponse.ok) {
          updateTestItem('profile', 0, 'success');
          passedTests++;
          log('‚úÖ P√°gina de perfil encontrada', 'success');
        } else {
          updateTestItem('profile', 0, 'error');
          failedTests++;
          log('‚ùå P√°gina de perfil no encontrada', 'error');
        }

        // Test 2-5: Funcionalidades del perfil
        const jsResponse = await fetch('profile.js');
        if (jsResponse.ok) {
          const js = await jsResponse.text();

          if (js.includes('editar') || js.includes('actualizar')) {
            updateTestItem('profile', 1, 'success');
            passedTests++;
            log('‚úÖ Edici√≥n de perfil implementada', 'success');
          } else {
            updateTestItem('profile', 1, 'error');
            failedTests++;
            log('‚ùå Edici√≥n de perfil no encontrada', 'error');
          }

          if (js.includes('foto') || js.includes('imagen')) {
            updateTestItem('profile', 2, 'success');
            passedTests++;
            log('‚úÖ Subida de foto implementada', 'success');
          } else {
            updateTestItem('profile', 2, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Subida de foto no encontrada', 'warning');
          }

          if (js.includes('redesSociales') || js.includes('facebook')) {
            updateTestItem('profile', 3, 'success');
            passedTests++;
            log('‚úÖ Redes sociales implementadas', 'success');
          } else {
            updateTestItem('profile', 3, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Redes sociales no encontradas', 'warning');
          }

          if (js.includes('posts') || js.includes('publicaciones')) {
            updateTestItem('profile', 4, 'success');
            passedTests++;
            log('‚úÖ Publicaciones del usuario implementadas', 'success');
          } else {
            updateTestItem('profile', 4, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Publicaciones del usuario no encontradas', 'warning');
          }
        }

        updateStatus('profile', 'success');
        log('üéâ Tests del perfil completados', 'success');
      } catch (error) {
        updateStatus('profile', 'error');
        log(`‚ùå Error en tests del perfil: ${error.message}`, 'error');
        failedTests += 5;
      }

      updateSummary();
    }

    async function testMessages() {
      updateStatus('messages', 'running');
      log('üí¨ Iniciando tests de mensajer√≠a...', 'info');
      totalTests += 5;

      try {
        const htmlResponse = await fetch('messages.html');
        const jsResponse = await fetch('messages.js');

        if (htmlResponse.ok) {
          updateTestItem('messages', 0, 'success');
          passedTests++;
          log('‚úÖ P√°gina de mensajer√≠a encontrada', 'success');
        } else {
          updateTestItem('messages', 0, 'error');
          failedTests++;
          log('‚ùå P√°gina de mensajer√≠a no encontrada', 'error');
        }

        if (jsResponse.ok) {
          const js = await jsResponse.text();

          if (js.includes('conversaciones') || js.includes('mensajes')) {
            updateTestItem('messages', 1, 'success');
            passedTests++;
            log('‚úÖ Lista de conversaciones implementada', 'success');
          } else {
            updateTestItem('messages', 1, 'error');
            failedTests++;
            log('‚ùå Lista de conversaciones no encontrada', 'error');
          }

          if (js.includes('enviar') || js.includes('send')) {
            updateTestItem('messages', 2, 'success');
            passedTests++;
            log('‚úÖ Env√≠o de mensajes implementado', 'success');
          } else {
            updateTestItem('messages', 2, 'error');
            failedTests++;
            log('‚ùå Env√≠o de mensajes no encontrado', 'error');
          }

          if (js.includes('recibir') || js.includes('cargar')) {
            updateTestItem('messages', 3, 'success');
            passedTests++;
            log('‚úÖ Recepci√≥n de mensajes implementada', 'success');
          } else {
            updateTestItem('messages', 3, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Recepci√≥n de mensajes no clara', 'warning');
          }

          if (js.includes('leido') || js.includes('read')) {
            updateTestItem('messages', 4, 'success');
            passedTests++;
            log('‚úÖ Marcar como le√≠do implementado', 'success');
          } else {
            updateTestItem('messages', 4, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Marcar como le√≠do no encontrado', 'warning');
          }
        }

        updateStatus('messages', 'success');
        log('üéâ Tests de mensajer√≠a completados', 'success');
      } catch (error) {
        updateStatus('messages', 'error');
        log(`‚ùå Error en tests de mensajer√≠a: ${error.message}`, 'error');
        failedTests += 5;
      }

      updateSummary();
    }

    async function testNotifications() {
      updateStatus('notifications', 'running');
      log('üîî Iniciando tests de notificaciones...', 'info');
      totalTests += 5;

      try {
        const response = await fetch('notifications.js');
        if (response.ok) {
          const js = await response.text();

          if (js.includes('notificaciones') || js.includes('notifications')) {
            updateTestItem('notifications', 0, 'success');
            passedTests++;
            log('‚úÖ Sistema de notificaciones encontrado', 'success');
          } else {
            updateTestItem('notifications', 0, 'error');
            failedTests++;
            log('‚ùå Sistema de notificaciones no encontrado', 'error');
          }

          if (js.includes('like')) {
            updateTestItem('notifications', 1, 'success');
            passedTests++;
            log('‚úÖ Notificaciones de likes implementadas', 'success');
          } else {
            updateTestItem('notifications', 1, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Notificaciones de likes no encontradas', 'warning');
          }

          if (js.includes('comentario')) {
            updateTestItem('notifications', 2, 'success');
            passedTests++;
            log('‚úÖ Notificaciones de comentarios implementadas', 'success');
          } else {
            updateTestItem('notifications', 2, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Notificaciones de comentarios no encontradas', 'warning');
          }

          if (js.includes('mensaje')) {
            updateTestItem('notifications', 3, 'success');
            passedTests++;
            log('‚úÖ Notificaciones de mensajes implementadas', 'success');
          } else {
            updateTestItem('notifications', 3, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Notificaciones de mensajes no encontradas', 'warning');
          }

          if (js.includes('contador') || js.includes('count')) {
            updateTestItem('notifications', 4, 'success');
            passedTests++;
            log('‚úÖ Contador de notificaciones implementado', 'success');
          } else {
            updateTestItem('notifications', 4, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Contador no encontrado', 'warning');
          }
        }

        updateStatus('notifications', 'success');
        log('üéâ Tests de notificaciones completados', 'success');
      } catch (error) {
        updateStatus('notifications', 'error');
        log(`‚ùå Error en tests de notificaciones: ${error.message}`, 'error');
        failedTests += 5;
      }

      updateSummary();
    }

    async function testSearch() {
      updateStatus('search', 'running');
      log('üîç Iniciando tests de b√∫squeda...', 'info');
      totalTests += 5;

      try {
        const response = await fetch('search.js');
        if (response.ok) {
          const js = await response.text();

          if (js.includes('buscar') || js.includes('search')) {
            updateTestItem('search', 0, 'success');
            passedTests++;
            log('‚úÖ B√∫squeda din√°mica implementada', 'success');
          } else {
            updateTestItem('search', 0, 'error');
            failedTests++;
            log('‚ùå B√∫squeda din√°mica no encontrada', 'error');
          }

          if (js.includes('contenido') || js.includes('content')) {
            updateTestItem('search', 1, 'success');
            passedTests++;
            log('‚úÖ Filtro por contenido implementado', 'success');
          } else {
            updateTestItem('search', 1, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Filtro por contenido no claro', 'warning');
          }

          if (js.includes('hashtag')) {
            updateTestItem('search', 2, 'success');
            passedTests++;
            log('‚úÖ Filtro por hashtags implementado', 'success');
          } else {
            updateTestItem('search', 2, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Filtro por hashtags no encontrado', 'warning');
          }

          if (js.includes('usuario') || js.includes('user')) {
            updateTestItem('search', 3, 'success');
            passedTests++;
            log('‚úÖ Filtro por usuarios implementado', 'success');
          } else {
            updateTestItem('search', 3, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Filtro por usuarios no encontrado', 'warning');
          }

          if (js.includes('tiempo real') || js.includes('realtime')) {
            updateTestItem('search', 4, 'success');
            passedTests++;
            log('‚úÖ Resultados en tiempo real', 'success');
          } else {
            updateTestItem('search', 4, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Tiempo real no confirmado', 'warning');
          }
        }

        updateStatus('search', 'success');
        log('üéâ Tests de b√∫squeda completados', 'success');
      } catch (error) {
        updateStatus('search', 'error');
        log(`‚ùå Error en tests de b√∫squeda: ${error.message}`, 'error');
        failedTests += 5;
      }

      updateSummary();
    }

    async function testDesign() {
      updateStatus('design', 'running');
      log('üé® Iniciando tests de dise√±o...', 'info');
      totalTests += 5;

      try {
        const cssResponse = await fetch('home.css');
        const htmlResponse = await fetch('home.html');

        if (cssResponse.ok && htmlResponse.ok) {
          const css = await cssResponse.text();
          const html = await htmlResponse.text();

          // Test 1: Layout 3 columnas
          if (html.includes('left-sidebar') && html.includes('feed') && html.includes('right-sidebar')) {
            updateTestItem('design', 0, 'success');
            passedTests++;
            log('‚úÖ Layout de 3 columnas implementado', 'success');
          } else {
            updateTestItem('design', 0, 'error');
            failedTests++;
            log('‚ùå Layout de 3 columnas no encontrado', 'error');
          }

          // Test 2: Navbar
          if (html.includes('navbar') || html.includes('nav-container')) {
            updateTestItem('design', 1, 'success');
            passedTests++;
            log('‚úÖ Navbar funcional implementado', 'success');
          } else {
            updateTestItem('design', 1, 'error');
            failedTests++;
            log('‚ùå Navbar no encontrado', 'error');
          }

          // Test 3: Cards
          if (css.includes('card') && css.includes('border-radius')) {
            updateTestItem('design', 2, 'success');
            passedTests++;
            log('‚úÖ Cards profesionales implementados', 'success');
          } else {
            updateTestItem('design', 2, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Cards b√°sicos', 'warning');
          }

          // Test 4: Responsive
          if (css.includes('@media') && css.includes('max-width')) {
            updateTestItem('design', 3, 'success');
            passedTests++;
            log('‚úÖ Dise√±o responsive implementado', 'success');
          } else {
            updateTestItem('design', 3, 'error');
            failedTests++;
            log('‚ùå Dise√±o responsive no encontrado', 'error');
          }

          // Test 5: Colores LinkedIn
          if (css.includes('#0a66c2') || css.includes('0a66c2')) {
            updateTestItem('design', 4, 'success');
            passedTests++;
            log('‚úÖ Colores LinkedIn implementados', 'success');
          } else {
            updateTestItem('design', 4, 'warning');
            warningTests++;
            log('‚ö†Ô∏è Colores personalizados', 'warning');
          }
        }

        updateStatus('design', 'success');
        log('üéâ Tests de dise√±o completados', 'success');
      } catch (error) {
        updateStatus('design', 'error');
        log(`‚ùå Error en tests de dise√±o: ${error.message}`, 'error');
        failedTests += 5;
      }

      updateSummary();
    }

    async function runAllTests() {
      log('üöÄ Iniciando bater√≠a completa de tests...', 'info');
      log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ', 'info');
      
      await testFirebase();
      await new Promise(resolve => setTimeout(resolve, 500));
      
      await testAuth();
      await new Promise(resolve => setTimeout(resolve, 500));
      
      await testFeed();
      await new Promise(resolve => setTimeout(resolve, 500));
      
      await testProfile();
      await new Promise(resolve => setTimeout(resolve, 500));
      
      await testMessages();
      await new Promise(resolve => setTimeout(resolve, 500));
      
      await testNotifications();
      await new Promise(resolve => setTimeout(resolve, 500));
      
      await testSearch();
      await new Promise(resolve => setTimeout(resolve, 500));
      
      await testDesign();
      
      log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ', 'info');
      log('üéâ ¬°Todos los tests completados!', 'success');
      log(`üìä Resultados: ${passedTests} exitosos, ${failedTests} fallidos, ${warningTests} advertencias`, 'info');
    }
  </script>
</body>
</html>
